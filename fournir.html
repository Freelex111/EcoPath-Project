<!DOCTYPE html>
<html lang="fr">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>ECOPATH</title>
   <link rel="stylesheet" href="dashboard.css">
</head>


<body>
    <header class="navbar">
    <div class="nav-left">
        <a class="company-name" href="index.html">ECOPATH</a>
    </div>

    <nav class="menu-dashboards">
        <a href="fournir.html" class="nav-item active">Espace Collecteur</a>
        <a href="client.html" class="nav-item">Espace Client</a>
        <a href="institution.html" class="nav-item">Espace Institution</a>
    </nav>

    <div class="nav-right">
        <a href="Positionnement-profil.html" class="profile-link-wrapper">
            <div class="user-profile">
                <span class="user-name" id="user-name-display">Utilisateur</span>
                <img src="https://via.placeholder.com/60" alt="Profil" class="user-icon" id="header-avatar">
            </div>
        </a>
    </div>
</header>

<!-- LAYOUT PRINCIPAL -->
    <div class="main-layout">
        <!-- MENU GAUCHE -->
        <div class="side-menu">
            <button data-img="images/solde.jpeg">SOLDE üí∞ </button>
            <button data-img="images/Historique.jpeg">HISTORIQUE  üßÆ</button>
            <button data-img="images/Points_Collecte.jpeg">PC üìç</button>
            <button data-img="images/Paiement.png">PAIEMENT  üí≥</button>
            <button id="btn-messagerie">MESSAGERIE üí¨</button>
    <button id="btn-deconnexion">D√âCONNEXION </button>
        </div>

      <!-- ZONE DE CONTENU -->
<div class="content-area">

    <!-- MESSAGE DE BIENVENUE CENTR√â -->
    <section class="welcome-message" id="welcome-message">
        <h2>Bienvenue sur votre espace Collecteur ECOPATH !</h2>
        <p>Ici, vous pouvez g√©rer vos produits, suivre vos commandes et consulter vos statistiques en toute simplicit√©.</p>
    </section>
<!-- TABLETTE MASQU√âE AU D√âBUT -->
<div class="tablet-frame" id="tablet-frame" style="display: none; position: relative;">
    <!-- Overlay noir ECOPATH -->
   <div class="tablet-overlay" id="tablet-overlay" style="display: none;">
    <div class="door-left"></div>
    <div class="door-right"></div>
    <div class="tablet-overlay-text">ECOPATH</div>
</div>
    <!-- Image √† afficher apr√®s animation -->
    <img id="display-image" src="" alt="Image affich√©e">
</div>


   <!-- SCRIPT POUR L‚ÄôANIMATION DES PORTES ET TABLETTE -->
<script>
  const buttons = document.querySelectorAll(".side-menu button");
const displayImage = document.getElementById("display-image");
const tabletOverlay = document.getElementById("tablet-overlay");
const tabletFrame = document.getElementById("tablet-frame");
const welcomeMessage = document.getElementById("welcome-message");

buttons.forEach(button => {
    button.addEventListener("click", () => {
        const imgSrc = button.getAttribute("data-img"); 
        displayImage.src = imgSrc;

        // 1Ô∏è‚É£ Cacher le message de bienvenue si c'est le premier clic
        if (welcomeMessage.style.display !== "none") {
            welcomeMessage.style.display = "none";
        }

        // 2Ô∏è‚É£ Afficher la tablette si cach√©e
        if (tabletFrame.style.display !== "flex") {
            tabletFrame.style.display = "flex";
        }

        // 3Ô∏è‚É£ R√©initialiser overlay pour pouvoir relancer l‚Äôanimation
        tabletOverlay.style.display = "flex";
        tabletOverlay.classList.remove("open");

        displayImage.classList.remove("show"); // cacher l‚Äôimage avant animation

        // 4Ô∏è‚É£ Lancer animation portes
        setTimeout(() => {
            tabletOverlay.classList.add("open");
        }, 50);

        // 5Ô∏è‚É£ Afficher l‚Äôimage apr√®s l‚Äôouverture
        setTimeout(() => {
            displayImage.classList.add("show");
            tabletOverlay.style.display = "none"; // masquer overlay
        }, 1100); // 1,1s = dur√©e de l‚Äôanimation portes
    });
});
 
 // Bouton Messagerie (ouvre une nouvelle page)
document.getElementById("btn-messagerie").addEventListener("click", () => {
    window.location.href = "messagerie.html";
});

document.getElementById("btn-deconnexion").addEventListener("click", () => {
    localStorage.removeItem('userPhoto');
    localStorage.removeItem('userName');
    window.location.href = "index.html"; // redirection vers page d'accueil
});





</script>


    </script>

    <script>
        // Charger photo et nom depuis la page profil
        window.onload = function() {
            const savedPhoto = localStorage.getItem('userPhoto'); // photo depuis la page profil
            const savedName = localStorage.getItem('userName');   // nom depuis la page profil

            const headerImg = document.getElementById('header-avatar');
            const nameDisplay = document.getElementById('user-name-display');

            if(savedPhoto) headerImg.src = savedPhoto;
            if(savedName) nameDisplay.textContent = savedName;
        };
    </script>

</body>
</html>
